<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Ozon | –ü–æ–ª–∏—Ç–ú–∞–π—Ç</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body { margin:0; font-family:Arial; background:#f3f3f7; }
header {
  background:#6a00ff; color:#fff; padding:12px;
  display:flex; justify-content:space-between; align-items:center;
}
.cart-btn { cursor:pointer; font-size:20px; }
.container { padding:12px; }

.card {
  background:#fff; border-radius:14px; padding:12px;
  box-shadow:0 4px 10px rgba(0,0,0,.08);
}
.card img { width:100%; border-radius:10px; }
.price { color:#6a00ff; font-size:20px; font-weight:bold; }

button {
  width:100%; padding:14px; border:none;
  border-radius:12px; background:#6a00ff;
  color:white; font-size:16px; margin-top:8px;
}

.modal {
  display:none; position:fixed; top:0; left:0;
  width:100%; height:100%; background:#fff; z-index:10;
  padding:12px; overflow:auto;
}

input {
  width:100%; padding:10px; margin:6px 0;
}
</style>
</head>

<body>

<header>
  <b>Ozon | –ü–æ–ª–∏—Ç–ú–∞–π—Ç</b>
  <div class="cart-btn" onclick="openCart()">üß∫</div>
</header>

<div class="container">
  <div class="card">
    <img src="dern.png">
    <h3>–î—ë—Ä–Ω (—Ç—Ä–∞–≤–∞)</h3>
    <div>üì¶ –í –Ω–∞–ª–∏—á–∏–∏: 64</div>
    <div class="price">25‚ÇΩ / –±–ª–æ–∫</div>
    <button onclick="addToCart()">üõí –í –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>
</div>

<!-- –ö–û–†–ó–ò–ù–ê -->
<div class="modal" id="cart">
  <h2>üß∫ –ö–æ—Ä–∑–∏–Ω–∞</h2>
  <div id="cartItems"></div>

  <h3>–î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞</h3>
  <input id="nick" placeholder="–í–∞—à –Ω–∏–∫">
  <input id="receiver" placeholder="–ù–∏–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –µ—Å—Ç—å)">
  <input id="server" placeholder="–°–µ—Ä–≤–µ—Ä">

  <button onclick="order()">üì¶ –ó–∞–∫–∞–∑–∞—Ç—å</button>
  <button onclick="closeCart()" style="background:#aaa">–ó–∞–∫—Ä—ã—Ç—å</button>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

let cart = { name:"–î—ë—Ä–Ω", count:0, price:25 };

function addToCart() {
  cart.count++;
  tg.showAlert("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É");
}

function openCart() {
  document.getElementById("cart").style.display="block";
  document.getElementById("cartItems").innerText =
    cart.name+" √ó "+cart.count+" = "+(cart.count*cart.price)+"‚ÇΩ";
}

function closeCart() {
  document.getElementById("cart").style.display="none";
}

function order() {
  if(cart.count === 0) {
    tg.showAlert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞");
    return;
  }

  const data = {
    product: cart.name,
    count: cart.count,
    total: cart.count*cart.price,
    nick: nick.value,
    receiver: receiver.value,
    server: server.value
  };

  tg.sendData(JSON.stringify(data));
}
</script>

</body>
</html>
